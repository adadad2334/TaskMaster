# TaskMaster - умный таск-трекер с оптимальным распределением задач

TaskMaster - это API для управления проектами и задачами с функцией интеллектуального распределения задач между исполнителями на основе их навыков, текущей загруженности и приоритетов задач.

## Основные особенности

- Регистрация и аутентификация пользователей с JWT-токенами
- Управление проектами и участниками проектов
- Управление задачами с различными статусами и приоритетами
- Система навыков для пользователей и задач
- Автоматическое назначение задач исполнителям с использованием алгоритма оптимизации
- Полное REST API с документацией Swagger

## Технологии

- FastAPI - современный, быстрый веб-фреймворк для создания API
- SQLAlchemy - ORM для работы с базой данных
- Pydantic - валидация данных и сериализация
- JWT - безопасная аутентификация и авторизация
- SQLite - легковесная база данных (можно заменить на PostgreSQL)
- Pytest - тестирование API

## Модель базы данных

В проекте используется реляционная база данных со следующими основными сущностями:

1. **User** - пользователи системы
2. **Project** - проекты, объединяющие задачи и исполнителей
3. **Task** - задачи с приоритетами, статусами и оценками трудозатрат
4. **Skill** - навыки, которыми обладают пользователи и которые требуются для выполнения задач

## Алгоритм автоматического назначения задач

Основная особенность TaskMaster - интеллектуальный алгоритм распределения задач, основанный на:

1. **Венгерском алгоритме** - алгоритм для решения задачи о назначениях в теории оптимизации
2. **Матрице стоимости** - матрица, определяющая "стоимость" назначения задачи конкретному исполнителю

При распределении учитываются следующие факторы:
- Совпадение навыков исполнителя и требований задачи
- Текущая загруженность исполнителя
- Приоритет задачи
- Срок выполнения задачи

Алгоритм может работать в нескольких режимах оптимизации:
- **balanced** - сбалансированное распределение (по умолчанию)
- **workload** - приоритет равномерной загрузки
- **skills** - приоритет соответствия навыков
- **priority** - приоритет важности задач

## Установка и запуск

### Предварительные требования

- Python 3.8 или выше
- pip (менеджер пакетов Python)

### Установка

1. Клонируйте репозиторий:
```
git clone https://github.com/your-username/taskmaster.git
cd taskmaster
```

2. Создайте и активируйте виртуальное окружение:
```
python -m venv venv
source venv/bin/activate  # для Linux/Mac
venv\Scripts\activate     # для Windows
```

3. Установите зависимости:
```
pip install -r requirements.txt
```

4. Создайте файл `.env` с настройками:
```
DATABASE_URL=sqlite:///./taskmaster.db
SECRET_KEY=ваш_секретный_ключ_здесь
```

### Запуск

1. Запустите сервер:
```
uvicorn app.main:app --reload
```

2. Откройте Swagger UI для работы с API:
```
http://localhost:8000/docs
```

## Тестирование

Запустите тесты с помощью pytest:
```
python run_tests.py
```

## API Endpoints

### Аутентификация
- `POST /users/register` - Регистрация нового пользователя
- `POST /users/token` - Получение токена доступа

### Пользователи
- `GET /users/me` - Информация о текущем пользователе
- `GET /users/` - Список всех пользователей
- `GET /users/{user_id}` - Информация о конкретном пользователе
- `PUT /users/{user_id}` - Обновление информации о пользователе
- `DELETE /users/{user_id}` - Удаление пользователя
- `POST /users/{user_id}/skills/{skill_id}` - Добавление навыка пользователю
- `DELETE /users/{user_id}/skills/{skill_id}` - Удаление навыка у пользователя

### Проекты
- `POST /projects/` - Создание нового проекта
- `GET /projects/` - Список всех проектов
- `GET /projects/{project_id}` - Информация о конкретном проекте
- `PUT /projects/{project_id}` - Обновление информации о проекте
- `DELETE /projects/{project_id}` - Удаление проекта
- `POST /projects/{project_id}/members/{user_id}` - Добавление участника в проект
- `DELETE /projects/{project_id}/members/{user_id}` - Удаление участника из проекта

### Задачи
- `POST /tasks/` - Создание новой задачи
- `GET /tasks/` - Список всех задач
- `GET /tasks/my` - Список задач, назначенных на текущего пользователя
- `GET /tasks/{task_id}` - Информация о конкретной задаче
- `PUT /tasks/{task_id}` - Обновление информации о задаче
- `DELETE /tasks/{task_id}` - Удаление задачи

### Навыки
- `POST /skills/` - Создание нового навыка
- `GET /skills/` - Список всех навыков
- `GET /skills/{skill_id}` - Информация о конкретном навыке
- `DELETE /skills/{skill_id}` - Удаление навыка

### Автоматическое назначение
- `POST /assign/tasks` - Автоматическое назначение задач исполнителям 